"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("three");class e extends t.BufferGeometry{constructor(e=((t,e,r)=>r.set(t,e,Math.cos(t)*Math.sin(e))),r=8,s=8){super(),this.type="ParametricGeometry",this.parameters={func:e,slices:r,stacks:s};const o=[],c=[],u=[],n=[],i=1e-5,a=new t.Vector3,h=new t.Vector3,f=new t.Vector3,l=new t.Vector3,m=new t.Vector3;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=r+1;for(let t=0;t<=s;t++){const o=t/s;for(let t=0;t<=r;t++){const s=t/r;e(s,o,h),c.push(h.x,h.y,h.z),s-i>=0?(e(s-i,o,f),l.subVectors(h,f)):(e(s+i,o,f),l.subVectors(f,h)),o-i>=0?(e(s,o-i,f),m.subVectors(h,f)):(e(s,o+i,f),m.subVectors(f,h)),a.crossVectors(l,m).normalize(),u.push(a.x,a.y,a.z),n.push(s,o)}}for(let t=0;t<s;t++)for(let e=0;e<r;e++){const r=t*p+e,s=t*p+e+1,c=(t+1)*p+e+1,u=(t+1)*p+e;o.push(r,s,u),o.push(s,c,u)}this.setIndex(o),this.setAttribute("position",new t.Float32BufferAttribute(c,3)),this.setAttribute("normal",new t.Float32BufferAttribute(u,3)),this.setAttribute("uv",new t.Float32BufferAttribute(n,2))}}exports.ParametricGeometry=e;
